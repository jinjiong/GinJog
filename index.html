<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Document</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <link rel="stylesheet" type="text/css" href="css/swiper.css">
    <link rel="stylesheet" type="text/css" href="css/video-js.css">
    <link rel="stylesheet" type="text/css" href="css/index.css">
    <script type="text/javascript" src="js/swiper.min.js"></script>
</head>
<body>
    <div class="pop-box">
        <div class="close"></div>
        <div class="swiper-container video-box">
            <div class="swiper-wrapper">
                <div class="swiper-slide">
                    <div class="img-box">
                        <img src="upload/1.png">
                    </div>
                </div>
                <div class="swiper-slide">
                    <video class="video" controls="controls"  src="upload/b.mp4" poster="upload/2.png" playsinline="true" webkit-playsinline="true" preload="auto">
                    </video>
                    <div class="posterBg">
                        <div class="img-box">
                            <img src="upload/2.png">
                        </div>
                        <img class="icon" src="upload/icon_play.png"  alt=""/>
                    </div>
                </div>
                <div class="swiper-slide">
                    <video class="video" controls="controls" src="upload/video.mp4" poster="upload/3.jpg" playsinline="true" webkit-playsinline="true" preload="auto"></video>
                    <div class="posterBg">
                        <div class="img-box">
                            <img src="upload/3.jpg">
                        </div>
                        <img class="icon" src="upload/icon_play.png"  alt=""/>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <ul>
        <li>
            <img src="upload/1.png">
        </li>
        <li>
            <img src="upload/2.png">
        </li>
        <li>
            <img src="upload/3.jpg">
        </li>
    </ul>
    <script type="text/javascript" src="js/jquery-1.12.2.min.js"></script>
    <script type="text/javascript" src="js/video.js"></script>
    <script type="text/javascript">
    var swipervideo = new Swiper('.video-box', {
        observer:true,
        observeParents:true,
        on: {
            init: function() {
                var videoBor = $(".video-box .swiper-slide");//video的swiper对象数组
                var videolist = videoBor.find("video");//video对象数组
                videoBor.on("click",function(){
                    var $video = $(this).find("video")[0];
                    if($video.paused){
                        var videoPoster =$(this).find(".posterBg");//当前封面对象
                        videoPoster.hide();
                        $video.play();
                    }
                });
                videolist.on("pause",function(){
                    /*所有封面浮层show&所有视频hide*/
                    videoBor.find(".posterBg").show();
                    videoBor.find("video").hide();
                });

                videolist.on("play",function(){
                    /*当前视频show*/
                    $(this).show();
                    if($(this)[0].play){
                    }
                });
            },
            slideChange: function() {
                var videolist = $(".video-box .swiper-slide").find("video"); //video对象数组
                for (var k = 0; k < videolist.length; k++) {
                    videolist[k].pause();
                }
            }
        }
    });
    $('ul li').click(function(){
        swipervideo.slideTo($(this).index());
        $('.pop-box').show();
    });
    $('.close').click(function(){
        $('.pop-box').hide();
    });
    </script>
</body>

</html>